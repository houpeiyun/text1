<!DOCTYPE html>
<html>
<head>
    <style>
        div {
            margin:3px; width:50px; position:absolute;
            height:50px; left:10px; top:30px;
            background-color:yellow;
        }
        div.red { background-color:red; }  </style>
</head>
<body>
<button>Start</button>
<div></div>
<script src="jquery.js"></script>
<script>
    $("button").click(function () {
        $("div").animate({left:'+=200px'}, 2000);
        $("div").animate({top:'0px'}, 600,function () {
            console.log($("div").queue("fx").length)
        });
        $("div").animate({left:'10px', top:'30px'}, 700);
        $("div").queue(function(next){
            // $("div").animate({left:'100px', top:'50px'}, 600);
            // $("div").dequeue();
            $("div").toggleClass("red");
            // $("div").dequeue();
            next();
        })
        /*console.log($("div").queue("fx").length)*/
    });
    $("div").hover(function(){
        console.log("in");
    },function(){
        console.log("out");

    })
</script>

</body>
</html>