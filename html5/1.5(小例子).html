<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        div{
            height: 500px;
        }
        #box1{
            background: #1da3ec;
        }
        #box2{
            background: #e54077;
        }
        #box3{
            background: yellow;
        }
        /*#box3:target{
            background: green;
        }*/
    </style>
</head>
<body>
<p>
    <a href="#box1">box1</a>
    <a href="#box2">box2</a>
    <a href="#box3">box3</a><!--锚点选择-->
</p>
<div id="box1"></div>
<div id="box2"></div>
<div id="box3"></div>
<script src="../jQuery/jquery.js"></script>
<script>
    /*setInterval(function () {
       $("div:target").css("background","green")
    },2000)*/
   /* var arr = [];
    $("p a").on("click",function () {
        var content = $("#"+$(this).text())
        arr.push(content.offset().top)
        /!*console.log(arr)*!/
        history.pushState(arr,"")
    })
    window.onpopstate = function (e) {
        var topp = e.state;
        $(".content").animate({
            scrolltop:topp
        },500)
    }*/
    $(function () {
        $('p a').on('click', function () {
            var id = $(this).attr('href');
            $('body, html').animate({
                scrollTop: $(id).offset().top
            }, 500);

            history.pushState($(id).offset().top, '');
            console.log(history.state);
            return false; // 阻止默认行为(默认可以直接点返回箭头返回)
        });
    });

    window.onpopstate = function (e) {
        console.log(history.state);
        $('body, html').animate({
            scrollTop: e.state
        }, 500);
    };
    // document.body.scrollTop || document.documentElement.scrollTop
</script>
</body>
</html>